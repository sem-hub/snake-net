* defer имеет overhead. Подумать убрать его из нагруженых мест.
* Протестировать скорость Lock() и RWLock() и реализацию sync.Map
* В обработчике ooop опираться на время, а не на количество пакетов
* По хорошему, при получении retransmit пакета, надо снижать packet rate
* При идентификации, туннельные адреса клиентов проверять ещё на то, что не совпадают с ip сервера и других подключённых
  клиентов
* IV надо генерировать случайным образом и передавать вместе с данными.
* Подпись пакета сделать опциональной. AEAD шифры уже включают в себя аутентификацию, поэтому
 подпись избыточна.
* Список клиентов теперь можно сделать в sync.Map
* Разобраться с ошибками при обмене: как отключать клиентов, как понимать что клиент отключился и пр. Сюда же grace shutdown.
* Отложенное подключение клиентов, когда сервер не отвечает сразу.
* encryption с выбором алгоритма (динамический выбор при согласовании)
* Если клиент не определил свой IP, то сервер должен его определить и отправить клиенту

* Сделать UUID для каждого клиента, чтобы можно было отличать клиентов при смене IP/порта. Тогда, при подключении клиента
  можно упростить handshake, если UUID уже известен серверу. Для этого, конечно, придется сохранять данные о клиенте
  некоторое время. UUID не надо передавать с каждым пакетом, а только при подключении.
* Заголовок пакета имеет фиксированную вид, который легко вычисляется. У нас уже есть набор случайных байтов для XOR,
  которые мы отсылаем на сервер. Есть идея испольовать эти байты для шифрования заголовка пакета, чтобы затруднить анализ
  трафика.

* Поменять maps на sync.Map
* Попробовать использовать sync.Pool для уменьшения аллокаций
* когда-нибудь сделать не разделение на клиент и сервер, а просто узлы, которые могут быть и тем и другим

Блочные шифры, которые можно использовать в решиме поточных шифров:
* AES в режиме CTR
* в режиме OFB
* в режиме CFB
* ChaCha20
* Salsa20
Вместо шифрования с подписью можно использовать шифрование с аутентификацией (AEAD):
* AES в режиме GCM
* ChaCha20-Poly1305 (быстрее AES)
* XSalsa20-Poly1305
* AES-SIV
* AES-PMAC-SIV
* AES-EAX
* AES-OCB
* AES-CCM
* AES-GCM-SIV
